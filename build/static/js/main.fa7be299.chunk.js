(this["webpackJsonpgroupe-6-dropbox"]=this["webpackJsonpgroupe-6-dropbox"]||[]).push([[0],{142:function(e,t,a){},240:function(e,t,a){"use strict";a.r(t);var n=a(2),s=a(0),r=a.n(s),i=a(12),c=a.n(i),o=a(8),l=a(129),d=(a(142),a(19)),h=a(23),u=a.n(h),p=a(31),j=a(24),b=a(14),m=a(15),f=a(17),g=a(16),x=a(278),O=a(294),v=a(283),y=a(284),C=a(241),k=a(285),S=a(292),w=a(286),N=a(6),D=a(35),I=a.n(D),A=a(77),z=a.n(A),E=a(41),M=a.n(E),P=a(296),R=function(e){return Object(P.a)({container:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",direction:"ltr",line:{height:1.34}},root:{display:"flex",width:"75%"},margin:{margin:e.spacing(1),padding:0},form:{"& > *":{margin:e.spacing(1),width:"100%"}},buttonSignin:{marginTop:"10%",textAlign:"center"},buttonSignup:{color:"#2c3e50",marginTop:"10%",textAlign:"center",width:"50%",alignSelf:"center"},blockRight:{display:"flex",flex:"1",flexDirection:"column",justifyContent:"center",width:"50%",backgroundColor:"#2c3e50",color:"white"},blockLeft:{flex:"1"}})},T=a(21),F=a.n(T),B=function(e,t,a){var n=new Date;n.setTime(n.getTime()+24*a*60*60*1e3);var s="expires="+n.toUTCString();document.cookie=e+"="+t+";"+s+";path=/"},L=function(e){for(var t=e+"=",a=document.cookie.split(";"),n=0;n<a.length;n++){for(var s=a[n];" "==s.charAt(0);)s=s.substring(1);if(0==s.indexOf(t))return s.substring(t.length,s.length)}return""};F.a.defaults.baseURL="https://api-dropbox.ddns.net",F.a.defaults.headers={authorization:L("token")?"Baerer ".concat(L("token")):void 0,"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"DELETE, POST, GET, PUT, PATCH, OPTION","Access-Control-Allow-Headers":"Content-Type, Access-Control-Allow-Headers, Authorization, X-Requested-With"};var W=function(e){return F.a.get("/share/files",{params:{path:e}})},q=function(e){return F.a.put("/user",e)},V=function(e){return F.a.post("/auth/register",e)},H=function(e){return F.a.post("/auth/login",e)},G=function(e){return F.a.post("/auth/forgot-password",{email:e})},U=function(e){return F.a.post("/share/new-files",e)},J=function(e){return F.a.post("/share/new-folder",e)},$=function(e){return F.a.put("/auth/reset-password/".concat(e.str),e)},X=function(e){return F.a.put("/share/save-code-file",e)},Z=a(27),_=Object(Z.a)(),K=a(293),Q=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={email:"",username:"",password:"",confirm:"",message:"",open:!1,severity:"success"},e.handleChange=function(t){e.setState((function(e){return Object(o.a)(Object(o.a)({},e),{},Object(j.a)({},t.target.name,t.target.value))}))},e.isValidEmail=function(e){return/\S+@\S+\.\S+/.test(e)},e.isValidPassword=function(e){return/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[#$^+=!*()@%&]).{8,10}$/.test(e)},e.handleSubmit=function(){var t=Object(p.a)(u.a.mark((function t(a){var n,s,r,i,c,o,l;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n=e.state,s=n.password,r=n.confirm,i=n.email,c=[],t.prev=3,e.isValidEmail(i)||c.push("Format courriel invalide"),e.isValidPassword(s)||c.push("Le mot de passe doit contenir au moins des caract\xe8res sp\xe9ciaux et des lettres majuscules"),s!==r&&c.push("Les mots de passe ne sont pas identiques"),!(c.length>0)){t.next=11;break}e.setState({message:c.join(" | "),severity:"error",open:!0}),t.next=19;break;case 11:return t.next=13,V(e.state);case 13:o=t.sent,l=o.data,B("token",l.token,1),B("email",e.state.email,1),F.a.defaults.headers={authorization:"Baerer ".concat(l.token)},_.push("/tableau-de-bord");case 19:t.next=25;break;case 21:t.prev=21,t.t0=t.catch(3),console.error(t.t0),e.setState({open:!0,severity:"error",message:t.t0.response.data.error});case 25:case"end":return t.stop()}}),t,null,[[3,21]])})));return function(e){return t.apply(this,arguments)}}(),e.handleClose=function(){e.setState({open:!1})},e}return Object(m.a)(a,[{key:"send",value:function(){var e=Object(p.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,V(this.state);case 4:a=e.sent,n=a.data,B("token",n.token,1),F.a.defaults.headers={authorization:"Baerer ".concat(n.token)},_.push("/tableau-de-bord"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0);case 14:case"end":return e.stop()}}),e,this,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.severity,s=t.message,r=t.open;return Object(n.jsxs)(x.a,{maxWidth:"lg",className:e.container,children:[Object(n.jsx)(O.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},autoHideDuration:"error"===a?null:6e3,open:r,onClose:this.handleClose,children:Object(n.jsx)(K.a,{onClose:this.handleClose,severity:a,children:s})}),Object(n.jsx)(v.a,{className:e.root,children:Object(n.jsxs)(y.a,{className:e.blockLeft,children:[Object(n.jsx)(C.a,{component:"h5",variant:"h5",align:"center",children:"Inscription"}),Object(n.jsxs)("form",{className:e.form,noValidate:!0,autoComplete:"off",onSubmit:this.handleSubmit,children:[Object(n.jsx)("span",{children:"* champ requis"}),Object(n.jsx)("div",{className:e.margin,children:Object(n.jsxs)(k.a,{container:!0,spacing:1,alignItems:"flex-end",children:[Object(n.jsx)(k.a,{item:!0,children:Object(n.jsx)(M.a,{})}),Object(n.jsx)(k.a,{item:!0,children:Object(n.jsx)(S.a,{required:!0,name:"email",label:"Courriel",type:"email",value:this.state.email,onChange:this.handleChange})})]})}),Object(n.jsx)("div",{className:e.margin,children:Object(n.jsxs)(k.a,{container:!0,spacing:1,alignItems:"flex-end",children:[Object(n.jsx)(k.a,{item:!0,children:Object(n.jsx)(z.a,{})}),Object(n.jsx)(k.a,{item:!0,children:Object(n.jsx)(S.a,{required:!0,name:"username",label:"Nom d'utilisateur",type:"text",value:this.state.username,onChange:this.handleChange})})]})}),Object(n.jsx)("div",{className:e.margin,children:Object(n.jsxs)(k.a,{container:!0,spacing:1,alignItems:"flex-end",children:[Object(n.jsx)(k.a,{item:!0,children:Object(n.jsx)(I.a,{})}),Object(n.jsx)(k.a,{item:!0,children:Object(n.jsx)(S.a,{required:!0,name:"password",label:"password",type:"password",value:this.state.password,onChange:this.handleChange})})]})}),Object(n.jsx)("div",{className:e.margin,children:Object(n.jsxs)(k.a,{container:!0,spacing:1,alignItems:"flex-end",children:[Object(n.jsx)(k.a,{item:!0,children:Object(n.jsx)(I.a,{})}),Object(n.jsx)(k.a,{item:!0,children:Object(n.jsx)(S.a,{required:!0,name:"confirm",label:"Confirmer password",type:"password",value:this.state.confirm,onChange:this.handleChange})})]})}),Object(n.jsx)("div",{className:e.buttonSignup,children:Object(n.jsx)(w.a,{type:"submit",variant:"contained",children:"S'inscrire"})})]})]})})]})}}]),a}(r.a.Component);Q.Display=Object(N.a)(R)(Q);var Y=a(72),ee=a(121),te=a.n(ee),ae=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={email:"",username:""},e.handleSubmit=function(){var t=Object(p.a)(u.a.mark((function t(a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,q(e.state);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),console.error(t.t0);case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}(),e.handleChange=function(t){e.setState((function(e){return Object(o.a)(Object(o.a)({},e),{},Object(j.a)({},t.target.name,t.target.value))}))},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(p.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.a.get("/user");case 3:t=e.sent,a=t.data,this.setState(Object(o.a)({},a)),console.log("data: ",a),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("error: ",e.t0),401!==e.t0.response.status&&403!==e.t0.response.status||(B("token","",0),B("email","",0),_.replace("/"));case 13:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.email,s=t.username;return Object(n.jsxs)("div",{children:[Object(n.jsx)(Y.a,{to:"/tableau-de-bord",children:Object(n.jsx)(te.a,{style:{color:"blue",fontSize:"xxx-large",margin:"1% 0 0 2.5%"}})}),Object(n.jsx)(x.a,{maxWidth:"lg",className:e.container,children:Object(n.jsx)(v.a,{className:e.root,children:Object(n.jsx)(y.a,{className:e.blockLeft,children:Object(n.jsxs)("form",{className:e.form,noValidate:!0,autoComplete:"off",onSubmit:this.handleSubmit,children:[Object(n.jsx)("div",{className:e.margin,children:Object(n.jsxs)(k.a,{container:!0,spacing:1,alignItems:"flex-end",children:[Object(n.jsx)(k.a,{item:!0,children:Object(n.jsx)(M.a,{})}),Object(n.jsx)(k.a,{item:!0,children:Object(n.jsx)(S.a,{name:"email",label:"Courriel",type:"email",value:a})})]})}),Object(n.jsx)("div",{className:e.margin,children:Object(n.jsxs)(k.a,{container:!0,spacing:1,alignItems:"flex-end",children:[Object(n.jsx)(k.a,{item:!0,children:Object(n.jsx)(I.a,{})}),Object(n.jsx)(k.a,{item:!0,children:Object(n.jsx)(S.a,{name:"username",label:"username",type:"text",value:s,onChange:this.handleChange})})]})}),Object(n.jsx)("div",{className:e.buttonSignin,children:Object(n.jsx)(w.a,{type:"submit",variant:"contained",children:"Modifier"})})]})})})})]})}}]),a}(r.a.Component);ae.Display=Object(N.a)(R)(ae);var ne=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={password:"",confirm:"",str:e.props.match.params.str,message:"",open:!1,severity:"success"},e.handleSubmit=function(){var t=Object(p.a)(u.a.mark((function t(a){var n,s,r,i,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=e.state,s=n.password,r=n.confirm,i=n.str,t.prev=2,c={password:s,confirm:r,str:i},t.next=6,$(c);case 6:e.setState({open:!0,severity:"success",message:"Mot de passe r\xe9initialis\xe9 avec succ\xe8s ! Redirection automatique vers la page de connexion"}),setTimeout((function(){_.push("/")}),3e3),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),console.error(t.t0),e.setState({open:!0,severity:"error",message:t.t0.response.data.error});case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}(),e.handleChange=function(t){e.setState((function(e){return Object(o.a)(Object(o.a)({},e),{},Object(j.a)({},t.target.name,t.target.value))}))},e.handleClose=function(){e.setState({open:!1})},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.severity,s=t.message,r=t.open;return Object(n.jsxs)(x.a,{maxWidth:"lg",className:e.container,children:[Object(n.jsx)(O.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},autoHideDuration:"error"===a?null:3e3,open:r,onClose:this.handleClose,children:Object(n.jsx)(K.a,{onClose:this.handleClose,severity:a,children:s})}),Object(n.jsx)(v.a,{className:e.root,children:Object(n.jsxs)(y.a,{className:e.blockLeft,children:[Object(n.jsx)(C.a,{component:"h5",variant:"h5",align:"center",children:"R\xe9initialiser votre mot de passe"}),Object(n.jsxs)("form",{className:e.form,noValidate:!0,autoComplete:"off",onSubmit:this.handleSubmit,children:[Object(n.jsx)("div",{className:e.margin,children:Object(n.jsxs)(k.a,{container:!0,spacing:1,alignItems:"flex-end",children:[Object(n.jsx)(k.a,{item:!0,children:Object(n.jsx)(I.a,{})}),Object(n.jsx)(k.a,{item:!0,children:Object(n.jsx)(S.a,{name:"password",label:"password",type:"password",value:this.state.password,onChange:this.handleChange})})]})}),Object(n.jsx)("div",{className:e.margin,children:Object(n.jsxs)(k.a,{container:!0,spacing:1,alignItems:"flex-end",children:[Object(n.jsx)(k.a,{item:!0,children:Object(n.jsx)(I.a,{})}),Object(n.jsx)(k.a,{item:!0,children:Object(n.jsx)(S.a,{name:"confirm",label:"Confirmer password",type:"password",value:this.state.confirm,onChange:this.handleChange})})]})}),Object(n.jsx)("div",{className:e.buttonSignup,children:Object(n.jsx)(w.a,{type:"submit",variant:"contained",children:"Reinitialiser"})})]})]})})]})}}]),a}(r.a.Component);ne.Display=Object(N.a)(R)(ne);var se=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={email:"",message:"",open:!1,severity:"success"},e.handleSubmit=function(){var t=Object(p.a)(u.a.mark((function t(a){var n,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,G(e.state.email);case 4:n=t.sent,s=n.data,e.setState({open:!0,message:s.message}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),console.error(t.t0),e.setState({open:!0,severity:"error",message:t.t0.response.data.error});case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}(),e.handleChange=function(t){e.setState((function(e){return Object(o.a)(Object(o.a)({},e),{},Object(j.a)({},t.target.name,t.target.value))}))},e.handleClose=function(){e.setState({open:!1})},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.severity,s=t.message,r=t.open;return Object(n.jsx)("div",{children:Object(n.jsx)(x.a,{children:Object(n.jsxs)(v.a,{className:e.root,children:[Object(n.jsx)(O.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},autoHideDuration:6e3,open:r,onClose:this.handleClose,children:Object(n.jsx)(K.a,{onClose:this.handleClose,severity:a,children:s})}),Object(n.jsxs)(y.a,{className:e.blockLeft,children:[Object(n.jsx)(C.a,{component:"h5",variant:"h5",align:"center",children:"confirmer votre email"}),Object(n.jsxs)("form",{onSubmit:this.handleSubmit,className:e.form,noValidate:!0,autoComplete:"off",children:[Object(n.jsx)("div",{className:e.margin,children:Object(n.jsxs)(k.a,{container:!0,spacing:1,alignItems:"flex-end",children:[Object(n.jsx)(k.a,{item:!0,children:Object(n.jsx)(M.a,{})}),Object(n.jsx)(k.a,{item:!0,children:Object(n.jsx)(S.a,{name:"email",label:"Courriel",type:"email",value:this.state.email,onChange:this.handleChange})})]})}),Object(n.jsx)("div",{className:e.buttonSignin,children:Object(n.jsx)(w.a,{type:"submit",variant:"contained",children:"Envoyer"})})]})]})]})})})}}]),a}(r.a.Component);se.Display=Object(N.a)(R)(se);var re=a(128),ie=Object(N.a)({paper:{border:"1px solid #d3d4d5"}})((function(e){return Object(n.jsx)(re.a,Object(o.a)({elevation:0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},e))})),ce=function(e){return Object(P.a)({container:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},root:{display:"flex",width:"75%"},margin:{margin:e.spacing(1)},form:{"& > *":{margin:e.spacing(1),width:"100%"}},buttonSignin:{marginTop:"10%",textAlign:"center"},buttonSignup:{color:"#2c3e50",marginTop:"10%",textAlign:"center",width:"50%",alignSelf:"center"},blockRight:{display:"flex",flex:"1",flexDirection:"column",justifyContent:"center",width:"50%",backgroundColor:"#2c3e50",color:"white"},blockLeft:{flex:"1"}})},oe=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={email:"",password:"",message:"",open:!1,severity:"success"},e.handleSubmit=function(){var t=Object(p.a)(u.a.mark((function t(a){var n,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,H(e.state);case 4:n=t.sent,s=n.data,B("token",s.token,1),B("email",e.state.email,1),F.a.defaults.headers={authorization:"Baerer ".concat(s.token)},_.push("/tableau-de-bord"),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(1),console.error(t.t0),e.setState({open:!0,severity:"error",message:t.t0.response.data.error});case 16:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}(),e.handleChange=function(t){e.setState((function(e){return Object(o.a)(Object(o.a)({},e),{},Object(j.a)({},t.target.name,t.target.value))}))},e.handleClose=function(){e.setState({open:!1})},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.classes;if(L("token"))return Object(n.jsx)(d.a,{to:"/tableau-de-bord"});var t=this.state,a=t.severity,s=t.message,r=t.open;return Object(n.jsxs)(x.a,{maxWidth:"lg",className:e.container,children:[Object(n.jsx)(O.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},autoHideDuration:6e3,open:r,onClose:this.handleClose,children:Object(n.jsx)(K.a,{onClose:this.handleClose,severity:a,children:s})}),Object(n.jsxs)(v.a,{className:e.root,children:[Object(n.jsxs)(y.a,{className:e.blockLeft,children:[Object(n.jsx)(C.a,{component:"h5",variant:"h5",align:"center",children:"Connexion"}),Object(n.jsxs)("form",{onSubmit:this.handleSubmit,className:e.form,noValidate:!0,autoComplete:"off",children:[Object(n.jsx)("div",{className:e.margin,children:Object(n.jsxs)(k.a,{container:!0,spacing:1,alignItems:"flex-end",children:[Object(n.jsx)(k.a,{item:!0,children:Object(n.jsx)(M.a,{})}),Object(n.jsx)(k.a,{item:!0,children:Object(n.jsx)(S.a,{name:"email",label:"Courriel",type:"email",value:this.state.email,onChange:this.handleChange})})]})}),Object(n.jsx)("div",{className:e.margin,children:Object(n.jsxs)(k.a,{container:!0,spacing:1,alignItems:"flex-end",children:[Object(n.jsx)(k.a,{item:!0,children:Object(n.jsx)(I.a,{})}),Object(n.jsx)(k.a,{item:!0,children:Object(n.jsx)(S.a,{name:"password",label:"Mot de passe",type:"password",value:this.state.password,onChange:this.handleChange})}),Object(n.jsx)(w.a,{className:e.buttonSignup,onClick:function(){return _.push("/recuperation-mot-de-passe")},children:"Mot de passe oubli\xe9"})]})}),Object(n.jsx)("div",{className:e.buttonSignin,children:Object(n.jsx)(w.a,{type:"submit",variant:"contained",children:"Se connecter"})})]})]}),Object(n.jsxs)(y.a,{className:e.blockRight,children:[Object(n.jsx)(C.a,{component:"h5",variant:"h5",align:"center",children:"Dropbox | IMIE-Paris"}),Object(n.jsx)(C.a,{variant:"subtitle1",align:"center",children:"Groupe 6"}),Object(n.jsx)(w.a,{variant:"contained",className:e.buttonSignup,onClick:function(){return _.push("/inscription")},children:"S'inscrire"})]})]})]})}}]),a}(r.a.Component);oe.Display=Object(N.a)(ce)(oe);var le=a(132),de=function(e){return Object(P.a)({root:{flexGrow:1,padding:15},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary,height:"80vh"},menu:{border:"1px solid #d3d4d5"},file:{textAlign:"initial",margin:"1% 0"},base:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",borderWidth:2,borderRadius:2,borderColor:"#eeeeee",borderStyle:"dashed",backgroundColor:"#fafafa",color:"#bdbdbd",outline:"none",transition:"border .24s ease-in-out",cursor:"pointer"},active:{borderColor:"#2196f3"},accept:{borderColor:"#00e676"},reject:{borderColor:"#ff1744"},files:{display:"flex",flexDirection:"column",width:" 100%",margin:"15% 0","& > div":{margin:"2.5% 0",display:"flex",justifyContent:"flex-end","&>span":{margin:"0 auto"},"&>svg:hover":{color:"red"}},button:{margin:e.spacing(1)}}})},he=function(){return Object(P.a)({root:{flexGrow:1,textAlign:"initial"},codeMirror:{"&>div":{height:"75vh"}}})},ue=(a(171),a(172),a(173),a(83),a(84),a(174),a(85),a(107),a(176),a(177),a(178),a(180),a(181),a(122)),pe=a(37),je=a.n(pe),be=a(123),me=a.n(be),fe=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={code:"",language:"xml",open:!1,severity:"success",message:""},e.onChange=function(t,a,n){e.setState({code:n}),"paste"===a.origin&&e.beautify()},e.beautify=function(){switch(console.log("beautify",e.state.language),e.state.language){case"xml":e.setState({code:je()(e.state.code,{format:"html"}),language:"xml"});break;case"html":e.setState({code:je()(e.state.code,{format:"html"}),language:"htmlmixed"});break;case"json":e.setState({code:je()(e.state.code,{format:"json"}),language:"json"});break;case"sql":e.setState({code:me.a.format(e.state.code),language:"sql"});break;case"css":e.setState({code:je()(e.state.code,{format:"css"}),language:"css"});break;case"js":e.setState({code:je()(e.state.code,{format:"js"}),language:"javascript"});break;case"jsx":e.setState({code:je()(e.state.code,{format:"js"}),language:"jsx"});break;case"ts":e.setState({code:je()(e.state.code,{format:"js"}),language:"javascript"});break;case"php":e.setState({code:je()(e.state.code,{format:"css"}),language:"php"})}},e.saveCode=function(){console.log(e.props.filename);var t=sessionStorage.getItem("pathname")?sessionStorage.getItem("pathname"):"";X({code:e.state.code,language:e.state.language,path:"".concat(t,"/").concat(e.props.filename)}).then((function(t){var a=t.data;console.log(a),e.setState({message:a.message,open:!0,severity:"success"})})).catch((function(t){console.error(t.response),e.setState({message:t.response.data.error,open:!0,severity:"error"})}))},e.handleClose=function(){e.setState({open:!1})},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props),this.setState({language:this.props.language,code:this.props.value}),setTimeout((function(){e.beautify()}),250)}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.refValue,s=this.state,r=s.code,i=s.open,c=s.message,o=s.severity,l=s.language;return Object(n.jsxs)("div",{className:t.root,children:[Object(n.jsx)(O.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},autoHideDuration:6e3,open:i,onClose:this.handleClose,children:Object(n.jsx)(K.a,{onClose:this.handleClose,severity:o,children:c})}),Object(n.jsx)("button",{onClick:this.beautify,children:"Beautify"}),Object(n.jsx)("button",{onClick:this.saveCode,children:"Enregistrer"}),Object(n.jsx)(ue.Controlled,{ref:a,onBeforeChange:this.onChange,value:r,className:t.codeMirror,options:{lineWrapping:!0,lint:!0,mode:l,theme:"material",lineNumbers:!0}})]})}}]),a}(r.a.Component);fe.Display=Object(N.a)(he)(fe);var ge=function(e){return Object(n.jsx)(K.a,Object(o.a)({elevation:6,variant:"filled"},e))},xe=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={message:"",open:!1,severity:"success",anchorEl:null,file:"",isCode:!1,language:"xml"},e.handleClickMenu=function(t){e.setState({anchorEl:t.currentTarget})},e.handleCloseMenu=function(){e.setState({anchorEl:null})},e.handleClose=function(){e.setState({open:!1})},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;(function(e,t){return F.a.get("/share/files/".concat(t),{params:{pathname:e}})})(sessionStorage.getItem("pathname")?sessionStorage.getItem("pathname"):"",this.props.match.params.file).then((function(t){var a=t.data;a.isCode?e.setState({file:a.file,isCode:!0,language:a.ext}):e.setState({file:"data:application/pdf;base64, "+a.file,isCode:!1})})).catch((function(e){console.log("error: ",e),401!==e.response.status&&403!==e.response.status||(B("token","",0),B("email","",0),_.replace("/"))}))}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.match,s=this.state,r=s.severity,i=s.open,c=s.message,o=s.file,l=s.isCode,d=s.language;return Object(n.jsxs)("div",{className:t.root,children:[Object(n.jsx)(O.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},autoHideDuration:6e3,open:i,onClose:this.handleClose,children:Object(n.jsx)(ge,{onClose:this.handleClose,severity:r,children:c})}),Object(n.jsx)(k.a,{container:!0,justify:"center",children:Object(n.jsx)(k.a,{item:!0,xs:12,children:Object(n.jsx)(le.a,{className:t.paper,children:l?Object(n.jsx)(fe.Display,{refValue:void 0,value:o,language:d,filename:a.params.file}):Object(n.jsx)("iframe",{src:o,height:"100%",width:"100%"})})})})]})}}]),a}(r.a.Component);xe.Display=Object(N.a)(de)(xe);var Oe=a(130),ve=a(297),ye=a(298),Ce=a(126),ke=a.n(Ce),Se=a(127),we=a.n(Se),Ne=a(93),De=function(e){return Object(P.a)({root:{padding:15},paper:{minHeight:"59vh",padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},menu:{border:"1px solid #d3d4d5"},file:{textAlign:"initial",margin:"1% 0"},base:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",borderWidth:2,borderRadius:2,borderColor:"#eeeeee",borderStyle:"dashed",backgroundColor:"#fafafa",color:"#bdbdbd",outline:"none",transition:"border .24s ease-in-out",cursor:"pointer"},active:{borderColor:"#2196f3"},accept:{borderColor:"#00e676"},reject:{borderColor:"#ff1744"},files:{display:"flex",flexDirection:"column",width:" 100%",margin:"15% 0","& > div":{margin:"2.5% 0",display:"flex",justifyContent:"flex-end","&>span":{margin:"0 auto"},"&>svg:hover":{color:"red"}},button:{margin:e.spacing(1)}}})},Ie=a(295),Ae=a(287),ze=a(125),Ee=a.n(ze),Me=function(){return Object(P.a)({breadcrumb:{cursor:"pointer"}})},Pe=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(){return Object(b.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.path,s=e.handleClickBreadcrumbs;return Object(n.jsxs)(Ie.a,{separator:Object(n.jsx)(Ee.a,{fontSize:"small"}),"aria-label":"breadcrumb",children:[Object(n.jsx)(Ae.a,{className:t.breadcrumb,color:"inherit",onClick:function(){return s(-1)},children:"".concat(L("email")||"/")}),a.map((function(e,a){return""!==e?Object(n.jsx)(Ae.a,{className:t.breadcrumb,color:"inherit",onClick:function(){return s(a)},children:e},a.toString()):null}))]})}}]),a}(r.a.Component);Pe.Display=Object(N.a)(Me)(Pe);var Re=[".html",".js",".jsx",".css",".sql",".php",".ts",".tsx",".json",".xml",".doc",".docx",".xls",".xlsx",".ppt",".pptx",".pdf"],Te=function(e){return-1!==Re.findIndex((function(t){return null!==e.match(t)}))},Fe=function(e){return Object(n.jsx)(K.a,Object(o.a)({elevation:6,variant:"filled"},e))},Be=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={message:"",open:!1,severity:"success",anchorEl:null,files:[],dirs:[],path:[]},e.onDrop=function(t){var a=new FormData,n=[];t.forEach((function(e){Te(e.name)?(a.append("pathname",sessionStorage.getItem("pathname")),a.append("myFiles",e)):n.push(e.name)})),n.length>0?e.setState({message:"Fichiers [ ".concat(n.join(" | ")," ] ne sont pas au bon format"),severity:"warning",open:!0}):U(a).then((function(t){var a=t.data;e.setState({message:a.message,severity:"success",open:!0}),e.getAllFilesWithCurrentPathname()})).catch((function(t){console.log(t.response),e.setState({message:t.response.data.error,severity:"error",open:!0})}))},e.onDropFolder=function(t){var a=new FormData,n=[],s="";t.forEach((function(e){console.log("file: ",e),Te(e.name)?(a.append("pathname",sessionStorage.getItem("pathname")),a.append("names",String(e.webkitRelativePath)),a.append("myFiles",e)):(s=String(e.webkitRelativePath).split("/")[0],n.push(e.name))})),n.length>0?e.setState({message:"Fichiers [ ".concat(n.join(" | ")," ] du dossier [ ").concat(s," ] ne sont pas au bon format"),severity:"warning",open:!0}):J(a).then((function(t){var a=t.data;e.setState({message:a.message,severity:"success",open:!0}),e.getAllFilesWithCurrentPathname()})).catch((function(t){console.log(t.response),e.setState({message:t.response.data.error,severity:"error",open:!0})}))},e.handleClickMenu=function(t){e.setState({anchorEl:t.currentTarget})},e.handleCloseMenu=function(){e.setState({anchorEl:null})},e.handleClose=function(){e.setState({open:!1})},e.handleClickBreadcrumbs=function(t){var a=e.state.path,n=(a=t+1===0?[]:a.slice(0,t+1)).join("/")+"/";sessionStorage.setItem("pathname",n),e.getAllFilesWithCurrentPathname()},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.getAllFilesWithCurrentPathname(),console.log(sessionStorage.getItem("pathname"))}},{key:"componentDidUpdate",value:function(){var e=this,t=this.state.path.join("/")+"/";t!==sessionStorage.getItem("pathname")&&W(t).then((function(a){var n=a.data;e.setState((function(e){return Object(o.a)(Object(o.a)({},e),{},{dirs:n.dirs,files:n.files})})),sessionStorage.setItem("pathname",t)})).catch((function(e){console.log(e.response)}))}},{key:"getAllFilesWithCurrentPathname",value:function(){var e=this,t="";if(sessionStorage.getItem("pathname")){var a,n=null===(a=sessionStorage.getItem("pathname"))||void 0===a?void 0:a.split("/");n.pop(),t=n.join("/")+"/",this.setState((function(e){return Object(o.a)(Object(o.a)({},e),{},{path:n})}))}else t=this.state.path.join("/");W(t).then((function(t){var a=t.data;e.setState((function(e){return Object(o.a)(Object(o.a)({},e),{},{dirs:a.dirs,files:a.files})}))})).catch((function(e){console.log(e.response),401!==e.response.status&&403!==e.response.status||(B("token","",0),B("email","",0),_.replace("/"))}))}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,s=a.severity,r=a.open,i=a.message,c=a.anchorEl,l=a.files,d=a.dirs,h=a.path;return Object(n.jsxs)("div",{className:t.root,children:[Object(n.jsx)(O.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},autoHideDuration:"warning"===s?void 0:6e3,open:r,onClose:this.handleClose,children:Object(n.jsx)(Fe,{onClose:this.handleClose,severity:s,children:i})}),Object(n.jsxs)(k.a,{container:!0,justify:"center",children:[Object(n.jsxs)(k.a,{item:!0,xs:2,children:[Object(n.jsx)(w.a,{"aria-controls":"simple-menu","aria-haspopup":"true",startIcon:Object(n.jsx)(ke.a,{}),style:{backgroundColor:"#2c3e50",color:"white"},variant:"contained",className:t.button,onClick:this.handleClickMenu,children:"Nouveau"}),Object(n.jsxs)(ie,{anchorEl:c,open:Boolean(c),onClose:this.handleCloseMenu,children:[Object(n.jsx)(ve.a,{children:Object(n.jsx)(Ne.a,{onDrop:this.onDrop,children:function(e){var t=e.getRootProps,a=e.getInputProps;return Object(n.jsxs)("div",Object(o.a)(Object(o.a)({},t({className:"dropzone"})),{},{children:[Object(n.jsx)("input",Object(o.a)({},a({accept:".doc,.docx,.pdf,.html,.css,.js,.jsx,.ts,.tsx,.php,.sql,.xml,.xls,.xlsx,.ppt,.pptx,.json"}))),"Importer des fichiers"]}))}})}),Object(n.jsx)(ve.a,{children:Object(n.jsx)(Ne.a,{onDrop:this.onDropFolder,children:function(e){var t=e.getRootProps,a=e.getInputProps;return Object(n.jsxs)("div",Object(o.a)(Object(o.a)({},t({className:"dropzone"})),{},{children:[Object(n.jsx)("input",Object(o.a)(Object(o.a)({},a({accept:".doc,.docx,.pdf,.html,.css,.js,.jsx,.ts,.tsx,.php,.sql,.xml,.xls,.xlsx,.ppt,.pptx,.json"})),{},{webkitdirectory:"",directory:""})),"Importer un dossier"]}))}})})]})]}),Object(n.jsxs)(k.a,{item:!0,xs:10,children:[Object(n.jsx)(Pe.Display,{path:h,handleClickBreadcrumbs:this.handleClickBreadcrumbs}),Object(n.jsxs)(le.a,{className:t.paper,children:[d&&d.map((function(a,s){return Object(n.jsx)("div",{className:t.file,children:Object(n.jsx)(w.a,{startIcon:Object(n.jsx)(we.a,{}),onClick:function(){e.setState({path:[].concat(Object(Oe.a)(h),[a])})},children:a})},s.toString())})),l.map((function(e,a){return Object(n.jsx)("div",{className:t.file,children:Object(n.jsx)(ye.a,{label:e,onClick:function(){return window.open("/tableau-de-bord/".concat(e),"_blank")}})},a.toString())}))]})]})]})]})}}]),a}(r.a.Component);Be.Display=Object(N.a)(De)(Be);var Le=a(288),We=a(289),qe=a(10),Ve=function(e){return Object(P.a)({grow:{flexGrow:1,"&>header>div":{backgroundColor:"#2c3e50"}},menuButton:{marginRight:e.spacing(2)},title:Object(j.a)({width:"100%",display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(j.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(qe.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(qe.c)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(j.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),sectionDesktop:Object(j.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(j.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"}),signout:{width:"100%",textAlign:"end","&>button":{color:"white"}},btnProfil:{width:"100%","&>button":{color:"white"}}})},He=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).disconnect=function(){B("token","",0),B("email","",0),sessionStorage.clear(),_.push("/")},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.classes;return Object(n.jsx)("div",{className:e.grow,children:Object(n.jsx)(Le.a,{position:"static",children:Object(n.jsxs)(We.a,{children:[Object(n.jsx)(C.a,{className:e.title,variant:"h6",noWrap:!0,children:Object(n.jsx)("div",{className:e.btnProfil,children:Object(n.jsx)(w.a,{startIcon:Object(n.jsx)(z.a,{}),onClick:function(){return _.push("/profil")},children:"Voir mon profil"})})}),Object(n.jsx)("div",{className:e.signout,children:Object(n.jsx)(w.a,{onClick:this.disconnect,children:"Se d\xe9connecter"})})]})})})}}]),a}(r.a.Component);He.Display=Object(N.a)(Ve)(He);var Ge=function(){return Object(P.a)({footerBar:{flex:1,backgroundColor:"rgb(212, 214, 238 )",width:"100%"},root:{flexGrow:1},contenufooter:{flex:1,marginTop:"2.5%",backgroundColor:"#2c3e50",width:"100%",display:"flex",alignItems:"flex-start",fontSize:"medium",justifyContent:"center"},footerContact:{padding:"5px 0",fontSize:"medium"},listeimg:{width:"100px",height:"100px",margin:"1",padding:"1"},develop:{listStyleType:"none"},footerp:{fontSize:"medium",paddingBottom:"5px",color:"white"}})},Ue=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(){return Object(b.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.classes;return Object(n.jsxs)("div",{className:e.contenufooter,children:[Object(n.jsx)(k.a,{item:!0,xs:3,children:Object(n.jsx)("div",{className:e.listeimg,children:Object(n.jsx)("img",{className:e.listeimg,src:"logo-dropbox.png",alt:"Dropbox"})})}),Object(n.jsx)(k.a,{item:!0,xs:3,children:Object(n.jsxs)("div",{className:e.footerp,children:[Object(n.jsx)("h3",{children:"Restons en contact"}),Object(n.jsxs)("ul",{children:[Object(n.jsx)("li",{children:"01-41-05-73-80"}),Object(n.jsx)("li",{children:"Dropbox@imie-paris.fr"})]})]})}),Object(n.jsx)(k.a,{item:!0,xs:3,children:Object(n.jsxs)("div",{className:e.footerp,children:[Object(n.jsx)("h3",{children:"developp\xe9 par :"}),Object(n.jsxs)("ul",{children:[Object(n.jsx)("li",{children:" Adrien Maillard "}),Object(n.jsx)("li",{children:"Gaye Mboup "})]})]})})]})}}]),a}(r.a.Component);Ue.Display=Object(N.a)(Ge)(Ue);var Je=a(290),$e=a(299),Xe=a(291),Ze=Object(Je.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}})),_e=function(e){var t=Object.assign({},e),a=Ze(),r=Object(s.useState)(!1),i=Object(l.a)(r,2),c=i[0],h=i[1];return F.a.get("/auth/check-token").then((function(){return h(!0)})).catch((function(){B("token","",0),B("email","",0),_.replace("/"),h(!0)})),L("token")?c?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(He.Display,{}),Object(n.jsx)(d.b,Object(o.a)({},t)),Object(n.jsx)(Ue.Display,{})]}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(He.Display,{}),Object(n.jsx)("div",{style:{height:"71.4vh"},children:Object(n.jsx)($e.a,{className:a.backdrop,open:!0,children:Object(n.jsx)(Xe.a,{color:"inherit"})})}),Object(n.jsx)(Ue.Display,{})]}):Object(n.jsx)(d.a,{to:"/"})};var Ke=function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(d.c,{history:_,children:Object(n.jsxs)(d.d,{children:[Object(n.jsx)(d.b,{exact:!0,path:"/",component:oe.Display}),Object(n.jsx)(d.b,{exact:!0,path:"/inscription",component:Q.Display}),Object(n.jsx)(d.b,{exact:!0,path:"/recuperation-mot-de-passe",component:se.Display}),Object(n.jsx)(d.b,{exact:!0,path:"/reinitialiser-mot-de-passe/:str",component:ne.Display}),Object(n.jsx)(_e,{exact:!0,path:"/tableau-de-bord",component:Be.Display}),Object(n.jsx)(_e,{exact:!0,path:"/tableau-de-bord/:file",component:xe.Display}),Object(n.jsx)(_e,{exact:!0,path:"/profil",component:ae.Display})]})})})};c.a.render(Object(n.jsx)(Ke,{}),document.getElementById("root"))}},[[240,1,2]]]);
//# sourceMappingURL=main.fa7be299.chunk.js.map